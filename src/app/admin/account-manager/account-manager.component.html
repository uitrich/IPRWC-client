<div *ngIf="loaded">
  <div class="input-group mb-3">
    <input type="text" class="form-control" placeholder="Voeg product toe" aria-label="Voeg tag toe" aria-describedby="basic-addon2" [(ngModel)]="newAccount.name">
    <div class="input-group-append">
<!--      <button class="btn btn-outline-secondary" type="button" (click)="add.show()">+</button>-->
    </div>
  </div>

  <table mdbTable>
    <thead>
    <tr>
      <th scope="col">first name</th>
      <th scope="col">last name</th>
      <th scope="col">mail adress</th>
      <th scope="col">postal code</th>
      <th scope="col">house number</th>
    </tr>
    </thead>
    <tbody>
    <tr mdbTableCol *ngFor="let p of accounts; let i = index">
      <td>{{p['firstName']}}</td>
      <td>{{p['lastName']}}</td>
      <td>{{p['mailAddress']}}</td>
      <td>{{p['postal_code']}}</td>
      <td>{{p['house_number']}}</td>
      <td><button class="emptyButton btn " (click)="selectedAccount = p; edit.show()"><i class="fas fa-edit emptyButton blue"></i></button></td>
      <td><button class="emptyButton btn " (click)="selectedAccount = p; sure.show()"><i class="far fa-times-circle emptyButton red"></i></button></td>
    </tr>
    </tbody>
  </table>

<div mdbModal #sure="mdbModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document" *ngIf="selectedAccount">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close pull-right" aria-label="Close" (click)="sure.hide()">
          <span aria-hidden="true">×</span>
        </button>
        <h4 class="modal-title w-100" id="myModalLabel">Are you sure you want to delete: </h4>
        <h4> {{selectedAccount.mailaddress}}</h4>
      </div>
      <div class="modal-footer">
        <button type="button" mdbBtn color="blue" class="waves-light" aria-label="Close" (click)="sure.hide(); " mdbWavesEffect>Close</button>
        <button type="button" mdbBtn color="red" class="relative waves-light" (click)="remove(sure); sure.hide()" mdbWavesEffect>I want to delete {{selectedAccount.mailaddress}}</button>
      </div>
    </div>
  </div>
</div>
<div mdbModal #edit="mdbModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close pull-right" aria-label="Close" (click)="edit.hide()">
          <span aria-hidden="true">×</span>
        </button>
        <h4 class="modal-title w-100" id="myModalLabel">Editing: </h4>
        <h4> {{selectedAccount.mailaddress}}</h4>
      </div>
      <div class="modal-body" >
        <label style="display: block">
          Name:
          <input class="form-control" type="text" value="{{selectedAccount?.firstname}} " [(ngModel)]="selectedAccount.firstname">
        </label>
        <label style="display: block">
          Category:
          <input class="form-control" type="text" value="{{selectedAccount.lastname}}" [(ngModel)]="selectedAccount.lastname">
        </label>
        <label style="display: block">
          Company:
          <input class="form-control"  type="text" value="{{selectedAccount.mailaddress}}" [(ngModel)]="selectedAccount.mailaddress">
        </label>
        <label style="display: block">
          price:
          <input class="form-control" type="text" value="{{selectedAccount.postal_code}}" [(ngModel)]="selectedAccount.postal_code">
        </label>
        <label style="display: block">
          price:
          <input class="form-control" type="text" value="{{selectedAccount.house_number}}" [(ngModel)]="selectedAccount.house_number">
        </label>
      </div>
      <div class="modal-footer">
        <button type="button" mdbBtn color="secondary" class="waves-light" aria-label="Close" (click)="edit.hide();" mdbWavesEffect>Close</button>
        <button type="button" mdbBtn color="primary" class="relative waves-light" (click)="update(edit)" mdbWavesEffect>Save changes</button>
      </div>
    </div>
  </div>
</div>

<div mdbModal #add="mdbModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close pull-right" aria-label="Close" (click)="add.hide()">
          <span aria-hidden="true">×</span>
        </button>
        <h4 class="modal-title w-100" id="myModalLabel">Updating:  </h4>
        <h4> {{newAccount.mailaddress}}</h4>
      </div>
      <div class="modal-body">
        <label style="display: block">
          First Name:
          <input class="form-control" type="text" value="{{newAccount.firstname}} " [(ngModel)]="newAccount.firstname">
        </label>
        <label style="display: block">
          Last Name:
          <input class="form-control" type="text" value="{{newAccount.lastname}}" [(ngModel)]="newAccount.lastname">
        </label>
        <label style="display: block">
          Mail Address:
          <input class="form-control" type="text" value="{{newAccount.mailaddress}}" [(ngModel)]="newAccount.mailaddress">
        </label>
        <label style="display: block">
          Postal Code:
          <input class="form-control" type="text" value="{{newAccount.postal_code}}" [(ngModel)]="newAccount.postal_code">
        </label>
        <label style="display: block">
          House Number
          <input class="form-control" type="text" value="{{newAccount.house_number}}" [(ngModel)]="newAccount.house_number">
        </label>
      </div>
      <div class="modal-footer">
        <button type="button" mdbBtn color="secondary" class="waves-light" aria-label="Close" (click)="add.hide();" mdbWavesEffect>Close</button>
        <button type="button" mdbBtn color="primary" class="relative waves-light" (click)="post(add)" mdbWavesEffect>Save changes</button>
      </div>
    </div>
  </div>
</div>
</div>
